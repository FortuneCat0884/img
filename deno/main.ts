import { serve } from "https://deno.land/std@0.182.0/http/server.ts";

var encode_version = 'jsjiami.com.v5', ztneu = '__0xff240',  __0xff240=['EznCvg3CkRfDgQ==','wqZlwofDqnAxw7Y=','a1Mrwo7Cvw==','w7ltYR/Cnz0L','FcOcZ8Oww40=','Kw7DlXgK','T2I4wpMo','w5LCt8OUE8K0','w6plw43CvDU=','5Yiz6Ziv54qP5p6k5Y+7776BcybkvLnlr4rmnrvlvZDnqoY=','wpnDkQVSw4A=','BMOVwpQ=','w59LEQ==','wrcYwp0Pwpc=','wrU3KMKWw7M=','Zi3CrsOkbw==','EMKhOsOjUA==','wr5FRsKa','wr9OWsKLw6JGw4rCocKD','w5gsB8KQw57CqMKZw6TDlUTCl8Ktw5J9','54u/5p+p5Y2R772wwqzDgOS8r+WsueaeqeW/veeppe+8gui+kOivreaUruaOmeaLj+S5tOeaoOW0h+S8sQ==','woLDhVQ=','w7labw==','a8KeRA==','w7NxcA==','w5XDu8ODwrfDpw==','w7rCmAsjaQ==','wrZsV8OIwoQ=','IcOSwrFpw6M=','w7pWw6zCqy4=','wp/DnCp0Bg==','J8KEwrBvBQ==','wqtSwpXDrXE=','5YuU6ZiH54iC5p+U5Y2n77+aFjDkvbXlr77mnI/lvYznqoU=','w6Idw75nwqo=','w7TCssOrM8KW','wqJxVMKbw6k=','wpENPA==','KlZk','FR5Cw4zDjMKQwq9xAcK3EW/ChXfCjg==','JcO1DMKOwrwqQDvCu8KWw4lMBw==','w5jCnzYAUC/CjcOvw43DkG7Dm8Obwq3Ci8KV','H3DChsO+fcK+ehkMwq4zwr4awqcsLMOpwqDCml3DtsKvwowfVsOlW8KJwofCgsKUw4fDjkMhQcKJ','wpsewqU9wow=','S8OjCsKDwrIsTG4=','B8OXwoE=','NcOEWxU=','RsKtQw==','w4TCtggvw6wmwofDvsOCWwFPwonDt0szPsKYIyE+XcOh','EsO4e3suAsKWw4bDtw85PjZvw45IaGHCiMKUfcOT','NcOREw==','54ux5p+D5Y6x772gUz/kv7blrIHmnrvlvobnqpfvv7jovanorKnml4vmj7rmi6Hku4XnmJDlt77kv5E=','w5U6GQ==','dMKjaRQk','w6rDjMOqwprDs8KB','wpNtQw3DmQ==','w63DksKLeAnCiA==','bsKhwpg2X3Q=','CEJPJg==','w6LDg8O5','EcOkWzVzRMKZw5E=','w6HCuQUsw5sKwoDDpg==','w7vCtwgR','w7LDlyvDhGotUg==','w5DCoMOS','G8KpwpRrLQ==','TcK4wpUieg==','w7nDnSTDlGoxVWHDgMK/w5vCqMK6VBoodBBnV8OVPcOsw5ZxwonDg8OKwrQgwoLDmGDCvCXCrgJPw5HCkFPCjsOUWg==','Vm9/Mz4=','DsKpwptfAWHCnMOZb1Y=','wp/Duw1uw6A=','w7NrZQjCvA==','wpXDq0VvVg==','wopBYA==','w4Zqaw/CmQ==','L8KBI8Om','QcKhdhsZ','I3pYw4rDkQ==','TmoPwr8F','NcKFJcOgZ2A=','w5Mxw7duwoELwp8=','acKJRA==','MC7Dgk4sBsO0w5bCmMKvwozCjw==','c08rwqPCvW/CssOQ','HMKtwopBHHHCqsOEclHClWwAw5NBw4o=','w6LCtRtI','wrLDiy5ROSHDpsK1KcKNwqzCtsKbS8OB','BMOSwos=','w6/CtsOxHsKQ','CcOkbw==','JsOhHMOGwoE9WDTCv8KRw5Q=','wplxwrzDimg=','w73Dh8OowpnDvsKXw44gLnBcFcKAw4ouYgJewo/DgcOl','XTrClcOJWg==','BMK4wok=','JcOKBMKPRQ==','w5NxeMObwq8=','OEpUw6/Diw==','fcOTMMOId8OXw5tNLsOv','w7x8w7c=','5q+d5ZyU55ef5om75Zqs5YObQcOAw4Y=','e2oK','w7pCUj/CgA==','wpUfwpcKwrI=','w5bCgSkcXCI=','EsKzwp9fB33CuQ==','H8OAdsOzw5AHAQ==','L1TCoMK8','WMOTM8O/YcOnw4RJLsKqRjY/w7EwUw==','aUQmwqs=','fMOCI8OFYMOjw4ZKIw==','w4EQJA==','wpUDwpfDrA==','5qye5Z+155el5oi95ZqL5YOdw6XCnjU=','w4ghw7VpwoEKwp8=','w7DDtgnDiV0=','T8KpQgxg','U0w1wrA=','woAewrA5woo9','GArDh3wz','CMK5I8OQYg==','w6VTw7zCuhU=','K2ByAWA=','JsO2wq9sw7vDvQ==','RFgiwrIOwo4H','F8Klbw==','EcKywp0=','OsO3wql1w6DDrsO6w6LCqw==','dU8nwr/CrWU=','w6RIXQrCvw=='];(function(_0x48a125,_0x3c922e){var _0x419597=function(_0x2d16ef){while(--_0x2d16ef){_0x48a125['push'](_0x48a125['shift']());}};_0x419597(++_0x3c922e);}(__0xff240,0xa7));var _0x4b89=function(_0x231fd0,_0x4f680a){_0x231fd0=_0x231fd0-0x0;var _0x5b4826=__0xff240[_0x231fd0];if(_0x4b89['initialized']===undefined){(function(){var _0x550fbc=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x18d5c9='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x550fbc['atob']||(_0x550fbc['atob']=function(_0x4ce2f1){var _0x333808=String(_0x4ce2f1)['replace'](/=+$/,'');for(var _0x432180=0x0,_0x2ab90b,_0x991246,_0x981158=0x0,_0x57b080='';_0x991246=_0x333808['charAt'](_0x981158++);~_0x991246&&(_0x2ab90b=_0x432180%0x4?_0x2ab90b*0x40+_0x991246:_0x991246,_0x432180++%0x4)?_0x57b080+=String['fromCharCode'](0xff&_0x2ab90b>>(-0x2*_0x432180&0x6)):0x0){_0x991246=_0x18d5c9['indexOf'](_0x991246);}return _0x57b080;});}());var _0x219af0=function(_0x441e3a,_0x2cc193){var _0x5f41ea=[],_0x503809=0x0,_0xe42b77,_0x56465b='',_0x52cace='';_0x441e3a=atob(_0x441e3a);for(var _0x39753a=0x0,_0xf81284=_0x441e3a['length'];_0x39753a<_0xf81284;_0x39753a++){_0x52cace+='%'+('00'+_0x441e3a['charCodeAt'](_0x39753a)['toString'](0x10))['slice'](-0x2);}_0x441e3a=decodeURIComponent(_0x52cace);for(var _0x307b3e=0x0;_0x307b3e<0x100;_0x307b3e++){_0x5f41ea[_0x307b3e]=_0x307b3e;}for(_0x307b3e=0x0;_0x307b3e<0x100;_0x307b3e++){_0x503809=(_0x503809+_0x5f41ea[_0x307b3e]+_0x2cc193['charCodeAt'](_0x307b3e%_0x2cc193['length']))%0x100;_0xe42b77=_0x5f41ea[_0x307b3e];_0x5f41ea[_0x307b3e]=_0x5f41ea[_0x503809];_0x5f41ea[_0x503809]=_0xe42b77;}_0x307b3e=0x0;_0x503809=0x0;for(var _0x3ab53f=0x0;_0x3ab53f<_0x441e3a['length'];_0x3ab53f++){_0x307b3e=(_0x307b3e+0x1)%0x100;_0x503809=(_0x503809+_0x5f41ea[_0x307b3e])%0x100;_0xe42b77=_0x5f41ea[_0x307b3e];_0x5f41ea[_0x307b3e]=_0x5f41ea[_0x503809];_0x5f41ea[_0x503809]=_0xe42b77;_0x56465b+=String['fromCharCode'](_0x441e3a['charCodeAt'](_0x3ab53f)^_0x5f41ea[(_0x5f41ea[_0x307b3e]+_0x5f41ea[_0x503809])%0x100]);}return _0x56465b;};_0x4b89['rc4']=_0x219af0;_0x4b89['data']={};_0x4b89['initialized']=!![];}var _0xfeb75b=_0x4b89['data'][_0x231fd0];if(_0xfeb75b===undefined){if(_0x4b89['once']===undefined){_0x4b89['once']=!![];}_0x5b4826=_0x4b89['rc4'](_0x5b4826,_0x4f680a);_0x4b89['data'][_0x231fd0]=_0x5b4826;}else{_0x5b4826=_0xfeb75b;}return _0x5b4826;};let index='';const INDEX_URL=Deno[_0x4b89('0x0','mken')][_0x4b89('0x1',')$a#')]('INDEX_URL')||'https://raw.githubusercontent.com/FortuneCat0884/img/main/index.html';serve(async _0x1904b0=>{var _0xd68a50={'zOYJV':_0x4b89('0x2',')$a#'),'Nafnh':function _0x4f35ef(_0x1e3413,_0x56ada5){return _0x1e3413+_0x56ada5;},'hKefY':_0x4b89('0x3','F1ju'),'ftnFX':_0x4b89('0x4','qE#]'),'GpjqV':_0x4b89('0x5','PJ$V'),'ggyVb':_0x4b89('0x6','Xfg2'),'bleLe':_0x4b89('0x7','F1ju'),'ehaeQ':function _0x3933dd(_0x30c2ee,_0x2f5b31){return _0x30c2ee!=_0x2f5b31;},'OMFEk':function _0x1f8e62(_0x32a0bc,_0x3adc8a){return _0x32a0bc===_0x3adc8a;},'Piobt':'WME','vktkZ':'WebSocket\x20closed','nIHgs':_0x4b89('0x8','4rZY'),'yGNnn':function _0x197557(_0x342107,_0x3973c8){return _0x342107===_0x3973c8;},'uESsW':_0x4b89('0x9','zCWL'),'XsWbV':'inH','PzXLw':'dreambooth','NqRAV':_0x4b89('0xa','v28G'),'FRuPm':_0x4b89('0xb','D*P@'),'ASeYX':function _0x41f018(_0x4419dc,_0x583d94){return _0x4419dc===_0x583d94;},'uyDBi':function _0x258f54(_0x53f11b,_0x51f7f6){return _0x53f11b!==_0x51f7f6;},'COoIt':_0x4b89('0xc','zCWL'),'xOyBC':_0x4b89('0xd','7w^a'),'dFmpE':function _0x5179a5(_0x2c9762,_0x8510e9){return _0x2c9762!==_0x8510e9;},'DrLBh':function _0x18b871(_0x9b189,_0x43d0e3){return _0x9b189+_0x43d0e3;},'ATbnc':_0x4b89('0xe','qE#]'),'ufilc':function _0x48e098(_0x4a6cbd,_0x2f720b){return _0x4a6cbd==_0x2f720b;},'HAkkX':function _0x58fe73(_0x488f28,_0x430eb7){return _0x488f28(_0x430eb7);}};let _0x15aa43=null;let _0x26e76d;let _0x486d11;const _0x27eeb7='2eheWheso=32$@#jsSW';const _0x484627=_0x1904b0['headers'][_0x4b89('0xf','vTIr')](_0xd68a50[_0x4b89('0x10','IKIk')]);const _0x136e7a=new TextEncoder()[_0x4b89('0x11','$0ou')](_0xd68a50[_0x4b89('0x12','1Go8')](_0x484627,_0x27eeb7));const _0x1cc65a=await crypto[_0x4b89('0x13','AsP[')][_0x4b89('0x14','C[wM')]('SHA-256',_0x136e7a);const _0x28fa6e=Array[_0x4b89('0x15','eOtC')](new Uint8Array(_0x1cc65a));const _0x261c63=_0x28fa6e[_0x4b89('0x16','$0ou')](_0x24c6a7=>_0x24c6a7[_0x4b89('0x17','zCWL')](0x10)[_0x4b89('0x18','D*P@')](0x2,'0'))[_0x4b89('0x19','D*P@')]('');const _0x59aa8b=_0x1904b0[_0x4b89('0x1a','65r*')][_0x4b89('0x1b','$RxO')](_0xd68a50['hKefY']);const _0x9c0a1c={'Content-Type':_0xd68a50[_0x4b89('0x1c','46^O')],'Access-Control-Allow-Origin':'*','Access-Control-Allow-Methods':_0xd68a50[_0x4b89('0x1d','C[wM')],'Access-Control-Allow-Headers':_0x4b89('0x1e','65r*')};const _0x3823d6=new URL(_0x1904b0['url']);_0x3823d6['protocol']=_0xd68a50[_0x4b89('0x1f','iUtS')];const _0xe5e3f7=_0x3823d6['pathname'];if(_0xe5e3f7[_0x4b89('0x20','46^O')](_0xd68a50[_0x4b89('0x21','^v3&')])){if(_0xd68a50[_0x4b89('0x22','ylqh')](_0x59aa8b,_0x261c63)){if(_0xd68a50[_0x4b89('0x23','rB8p')](_0x4b89('0x24','1Go8'),_0xd68a50[_0x4b89('0x25','ylqh')])){const _0x7c55fe={'status':'unauthorized!'};return new Response(JSON['stringify'](_0x7c55fe),{'status':0xc8,'headers':_0x9c0a1c});}else{console[_0x4b89('0x26','D]V9')](_0xd68a50['vktkZ']);}}else{if(_0xd68a50[_0x4b89('0x27','IKIk')](_0xd68a50['nIHgs'],_0xd68a50[_0x4b89('0x28',')$a#')])){if(_0xd68a50[_0x4b89('0x29','PMHv')](_0x1904b0[_0x4b89('0x2a','D]V9')],_0xd68a50['uESsW'])){const _0x57055e=_0x1904b0[_0x4b89('0x2b','UBR3')][_0x4b89('0x2c','IKIk')](_0x4b89('0x2d','jj9m'));if(_0x57055e[_0x4b89('0x2e','dXoz')](_0x4b89('0x2f','46^O'))){const _0x446044=await _0x1904b0[_0x4b89('0x30','[Gqu')]();_0x26e76d=_0x446044['prompt'];_0x486d11=_0x446044[_0x4b89('0x31','kPjY')];}else{if(_0xd68a50['yGNnn'](_0x4b89('0x32','KQ7K'),_0xd68a50[_0x4b89('0x33','$RxO')])){console[_0x4b89('0x34','zCWL')](response);resolve(new Response(JSON['stringify'](response),{'status':0xc8,'headers':_0x9c0a1c}));}else{return new Response(_0x4b89('0x35','F1ju'),{'status':0x190,'headers':_0x9c0a1c});}}}const _0x30f057={'action':_0xd68a50[_0x4b89('0x36','hBH[')],'body':{'data':{'model_id':_0x4b89('0x37','$0ou'),'prompt':_0x26e76d,'negative_prompt':_0x486d11,'width':0x300,'height':0x300,'samples':'1','num_inference_steps':0x14,'seed':null,'safety_checker':_0xd68a50[_0x4b89('0x38','bl1Z')],'enhance_prompt':'no','guidance':7.5,'guidance_scale':7.5,'multi_lingual':_0x4b89('0x39','46^O'),'webhook':null,'track_id':null,'scheduler':_0xd68a50[_0x4b89('0x3a','7w^a')]}}};try{if(_0xd68a50[_0x4b89('0x3b','OEGZ')](_0x15aa43,null)||_0xd68a50[_0x4b89('0x3c',')$a#')](_0x15aa43[_0x4b89('0x3d','9$(u')],WebSocket['OPEN'])){_0x15aa43=new WebSocket(_0xd68a50['COoIt']);await new Promise((_0x132e23,_0x526321)=>{var _0x157c5c={'pBkmQ':function _0x12bad9(_0x3a6f5c,_0x1a1a48){return _0x3a6f5c===_0x1a1a48;},'lAVRm':_0x4b89('0x3e','JAcD'),'fuFGM':_0x4b89('0x3f','P1j(')};if(_0x157c5c['pBkmQ'](_0x4b89('0x40','PMHv'),_0x157c5c[_0x4b89('0x41','ylqh')])){console['log'](_0x157c5c[_0x4b89('0x42','Xfg2')]);}else{_0x15aa43[_0x4b89('0x43','qE#]')]=()=>{_0x132e23();};_0x15aa43[_0x4b89('0x44','46^O')]=_0x5a1744=>_0x526321(_0x5a1744);_0x15aa43[_0x4b89('0x45','Xkk]')]=()=>{console[_0x4b89('0x46','PJ$V')](_0x4b89('0x47','9$(u'));};}});}_0x15aa43[_0x4b89('0x48','dXoz')](JSON[_0x4b89('0x49','9$(u')](_0x30f057));return new Promise((_0x2b05c8,_0xaf7a04)=>{var _0x1f89c5={'jDCiR':function _0x412064(_0x309f59,_0x2b4f12){return _0x309f59===_0x2b4f12;},'zxyvm':_0x4b89('0x4a','vTIr'),'KKkFz':_0x4b89('0x4b','miZ^'),'PYrXj':_0x4b89('0x4c','46^O'),'EPRJI':_0x4b89('0x4d','UBR3')};_0x15aa43['onmessage']=async _0x2f9188=>{var _0x2dcda8={'rKYgR':function _0x42cca3(_0x26f476){return _0x26f476();},'qrcAw':'WebSocket\x20closed'};if(_0x1f89c5[_0x4b89('0x4e','65r*')]('sOI',_0x1f89c5['zxyvm'])){const _0x1c778f=JSON[_0x4b89('0x4f','v28G')](_0x2f9188[_0x4b89('0x50','PMHv')]);if(_0x1c778f[_0x4b89('0x51','Xfg2')]===_0x1f89c5[_0x4b89('0x52','jj9m')]){console[_0x4b89('0x34','zCWL')](_0x1f89c5[_0x4b89('0x53','D]V9')]);}else if(_0x1f89c5[_0x4b89('0x54','JAcD')](_0x1c778f['status'],_0x1f89c5[_0x4b89('0x55','eOtC')])){const _0xee5955=_0x1c778f[_0x4b89('0x56','KQ7K')][0x0];const _0x50430b={'status':_0x4b89('0x57','PMHv'),'output':_0xee5955};console[_0x4b89('0x58','vTKB')](_0x50430b);_0x2b05c8(new Response(JSON['stringify'](_0x50430b),{'status':0xc8,'headers':_0x9c0a1c}));}else{console[_0x4b89('0x59','46^O')](_0x1c778f);_0x2b05c8(new Response(JSON[_0x4b89('0x5a','KQ7K')](_0x1c778f),{'status':0xc8,'headers':_0x9c0a1c}));}}else{_0x15aa43[_0x4b89('0x5b','dXoz')]=()=>{_0x2dcda8[_0x4b89('0x5c','ylqh')](_0x2b05c8);};_0x15aa43[_0x4b89('0x5d','Vk3p')]=_0x36b83d=>_0xaf7a04(_0x36b83d);_0x15aa43[_0x4b89('0x5e','hBH[')]=()=>{console['warn'](_0x2dcda8[_0x4b89('0x5f','dXoz')]);};}};_0x15aa43[_0x4b89('0x60','ylqh')]=_0x2042ee=>{console[_0x4b89('0x61','Xkk]')](_0x2042ee);_0xaf7a04(new Response(null,{'status':0x1f4}));};});}catch(_0x2ea309){if(_0xd68a50[_0x4b89('0x62','jj9m')]!==_0xd68a50[_0x4b89('0x63','PMHv')]){console[_0x4b89('0x64','$RxO')](_0x2ea309);return new Response(null,{'status':0x1f4});}else{console[_0x4b89('0x65','JAcD')](_0x2ea309);return new Response(null,{'status':0x1f4});}}}else{w[c](_0x4b89('0x66','bl1Z'));}}}else{if(_0xd68a50[_0x4b89('0x67','^v3&')](_0x4b89('0x68','4rZY'),_0x4b89('0x69','bRp$'))){w[c](_0xd68a50[_0x4b89('0x6a','Xfg2')]('删除',_0xd68a50[_0x4b89('0x6b','mken')]));}else{if(_0xd68a50[_0x4b89('0x6c','bl1Z')](index,'')){const _0x13b325=await _0xd68a50[_0x4b89('0x6d','D]V9')](fetch,INDEX_URL);index=await _0x13b325[_0x4b89('0x6e','o84Z')]();}return new Response(index,{'headers':{'content-type':'text/html;charset=UTF-8'}});}}});;(function(_0x28376e,_0x5219b5,_0x51949b){var _0x5f3b7c={'ZYJBp':function _0x17bed3(_0x260f04,_0x2f11c0){return _0x260f04!==_0x2f11c0;},'CwMOP':_0x4b89('0x6f','o84Z'),'Xaoov':function _0x56836e(_0x21a73d,_0x355a71){return _0x21a73d===_0x355a71;},'hQjum':_0x4b89('0x70','vTIr'),'uASxi':function _0x31b9de(_0x2a2211,_0x50f1f8){return _0x2a2211+_0x50f1f8;},'CrcDK':_0x4b89('0x71','$RxO'),'vpEKg':_0x4b89('0x72','rB8p'),'bYqkn':_0x4b89('0x73','ylqh'),'YIhmN':_0x4b89('0x74','IKIk')};_0x51949b='al';try{_0x51949b+=_0x4b89('0x75','ylqh');_0x5219b5=encode_version;if(!(_0x5f3b7c[_0x4b89('0x76','$0ou')](typeof _0x5219b5,_0x5f3b7c[_0x4b89('0x77','qE#]')])&&_0x5f3b7c[_0x4b89('0x78','k%59')](_0x5219b5,_0x5f3b7c[_0x4b89('0x79','KQ7K')]))){_0x28376e[_0x51949b](_0x5f3b7c[_0x4b89('0x7a','JAcD')]('删除',_0x5f3b7c[_0x4b89('0x7b','kPjY')]));}}catch(_0x43adc7){if(_0x5f3b7c[_0x4b89('0x7c','46^O')](_0x5f3b7c['vpEKg'],_0x5f3b7c[_0x4b89('0x7d','hBH[')])){_0x28376e[_0x51949b](_0x4b89('0x7e','mken'));}else{_0x51949b+=_0x5f3b7c[_0x4b89('0x7f','UBR3')];_0x5219b5=encode_version;if(!(_0x5f3b7c['ZYJBp'](typeof _0x5219b5,_0x5f3b7c[_0x4b89('0x80','$RxO')])&&_0x5219b5===_0x5f3b7c[_0x4b89('0x81','o84Z')])){_0x28376e[_0x51949b]('删除'+'版本号，js会定期弹窗，还请支持我们的工作');}}}}(window));;encode_version = 'jsjiami.com.v5';
